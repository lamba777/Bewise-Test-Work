# bewise

Привет! Это мануал по использованию приложения-викторины. Здесь ты можешь генерировать случайные вопросы и получать ответы на них. Вопросы достаточно разнообразные. Так что если тебе нужно провест увлекательную игру для персонала, или просто поиграть дома с друзьями ты по адресу. Мы открыты круглосуточно

## Содержание
- [Технологии](#технологии)
- [Установка](#установка)
- [Запуск](#запуск)
- [Работа с бд](#работа-с-бд)
- [API](#api)

## Технологии
- [Docker](https://www.docker.com/)
- [Django4](https://docs.djangoproject.com/en/4.2/releases/4.0/)

## Установка
Для начала нам нужно установить Docker, если он уже установлен на вашем компьютере - проигнорируйте следующую команду:

### Установка на Windows:

Скачайте .exe файл и установите с официального сайта: https://docs.docker.com/engine/install/ubuntu/


### Установка на Linux:


```sh
$ sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

Убедитесь что docker установлен и работоспособен с помощью команды:


```sh
$ sudo docker run hello-world
```

Эта команда загрузит тестовый образ(image) - "в докер их так принято называть" и запустит новый контейнер(docker-container).

Если все хорошо отработало вы должны увидеть на экране что-то подобное: "You have now successfully installed and started Docker Engine"

Если же на экране какая-то ошибка попробуйте установить docker по этому мануалу: https://docs.docker.com/engine/install/ubuntu/ 

## Запуск

### Требования
Для установки и запуска проекта перейдте в корневую папку проекта. Ориентиром будет файл manage.py внутри каталога. Далее необходимо собрать докер-образ(Docker-Image)
Нет разницы какую операционную систему вы используете команда будет идентичной, выполните:


```sh
$ docker build -t quiz_app .
```

### Установка зависимостей
Установка зависимостей выполняется при сборке Docker-Image. Вам не нужно вручную устанавливать зависимости

### Запуск контейнера и Development сервера
Чтобы запустить контейнер нам необходимо все также находится в корневом кталоге нашего проекта, напомню, это там где у нас manage.py и выполнить команду:


```sh
docker-compose up -d
```

Чтобы остановить контейнер используйте команду:
```sh
docker-compose down
```


## Работа с БД

### Подключение
Подключение к БД в коммандной строке/терминале используйте команду:


```sh
$ psql -h localhost -p 5400 -U user_bewise -d bewise
```

Эту команду следует использовать, только в случае когда ваш контейнер запущен и работает. В противном случае возникнет ошибка при подключении к серверу, потому что он нигде не инициализирован.

База запросит у вас пароль он доступен в .env-файле, который находится в корневом каталоге вашего проекта, перейдите, посмотрите и заполните поле ввода.

Ура! Вы подключились к базе, далее все команды используйте в стандартном режиме.

## API
Метод GET, удаляет все записи из вашей базы данных


```sh
127.0.0.1/api/v1/delete/
```

Метод POST, добавляет вопросы и ответы(викторину) в БД


```sh
127.0.0.1/api/v1/quiz/
```

При использовании этого метода следует передать тело запроса, а именно количество запрашиваемых у сервиса вопросов. 

```sh
В таком виде: {"questions_num": integer} - где "question_num" - количество вопросов
```

Метод пост не получится использовать напрямую из адресной строки. Поэтому я рекомендую вам ознакомится с программамми(помощниками), которые помогают делать разного вида запросы к серверу. Я лично использую программу под именем Postman, многие считают её фаворитом среди остальных.

Если зачастую вы отправляете POST-запросы с помощью вашего любимого языка программирования - это не проблема. Всё настроено и должно работать в корректном режиме

Приятного ипользования!
